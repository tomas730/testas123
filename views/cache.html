<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>
<p>TEST</p>
<button onclick="requestAndShowPermission()">Click</button>
<p>Click</p>
    <script>





// if(permission === "granted") {
//    showNotification();
// } else if(permission === "default"){
//    requestAndShowPermission();
// } else {
//   alert("Use normal alert");
// }
            

// //GOOD GOOD GOOD GOOD GOOD GOOD GOOD 
// async function test() {
//     Notification.requestPermission().then(function (permission) {
//     console.log(permission);
    
//     setTimeout(function() {
//     var title = "JavaScript Jeep";
//     var icon = 'https://i.imgur.com/Hx2RooI.png';
//     var body = "It's Your boarding time";
//     var notification = new Notification(title, { body, icon });
//     notification.onclick = function(){
//                              window.parent.focus();
//                              notification.close();
//                             }
//       }, 10500);
    
//     });
// }

// //GOOD GOOD GOOD GOOD GOOD GOOD GOOD


function showNotification() {
//    if(document.visibilityState === "visible") {
//        return;
//    }

   var title = "JavaScript Jeep";
   icon = './profile.png';
   var body = "Message to be displayed";
   var notification = new Notification('Title', { body, icon });
   notification.onclick = () => { 
          notification.close();
          window.parent.focus();
   }
}
function requestAndShowPermission() {
try {
   Notification.requestPermission(function (permission) {
    console.log(permission)
      if (permission == "granted") {
            showNotification();
      }
   });
} catch(e) {
console.log(e)
}

}


    </script>
    
</body>
</html>
